{{!< layout}}

<div class="pb-2 mt-2 mb-4 border-bottom">
  <h3>Profile Information</h3>
</div>
<form action="/account/profile" method="POST"><input type="hidden" name="_csrf" value={{_csrf}} />
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="email">Email</label>
    <div class="col-md-7"><input class="form-control" type="email" name="email" id="email" autocomplete="email" value={{user.email}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="name">Name</label>
    <div class="col-md-7"><input class="form-control" type="text" name="name" id="name" autocomplete="name" value={{user.profile.name}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right">Gender</label>
    <div class="col-sm-6">
      <div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="gender" value="male" data-toggle="radio" {{{setChecked user.profile.gender "male"}}}><label class="form-check-label">Male</label></div>
      <div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="gender" value="female" data-toggle="radio" {{{setChecked user.profile.gender "female"}}}><label class="form-check-label">Female</label></div>
      <div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="gender" value="other" data-toggle="radio" {{{setChecked user.profile.gender "other"}}}><label class="form-check-label">Other</label></div>
    </div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="homeCurrency">homeCurrency</label>
    <div class="col-md-7"><input class="form-control text-to-upper" type="text" name="homeCurrency" id="homeCurrency" autocomplete="autocomplete" minLength="3" maxlength="3" value={{user.homeCurrency}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="homeDistance">homeDistance</label>
    <div class="col-md-7">
      {{debug user.homeDistance}}
      <select class="form-control" type="text" name="homeDistance" id="homeDistance" autocomplete="autocomplete">
        <option value="mi" {{{setOption user.homeDistance "mi"}}} >mi</option >
        <option value="km" {{{setOption user.homeDistance "km"}}} >km</option>
      </select></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="perMileAmount">perMileAmount</label>
    <div class="col-md-7"><input class="form-control" type="number" name="perMileAmount" id="perMileAmount" autocomplete="autocomplete" value={{user.perMileAmount}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="location">Location</label>
    <div class="col-md-7"><input class="form-control" type="text" name="location" id="location" autocomplete="autocomplete" value={{user.profile.location}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="website">Website</label>
    <div class="col-md-7"><input class="form-control" type="text" name="website" id="website" autocomplete="url" value={{user.profile.website}}></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right">Gravatar</label>
    <div class="col-sm-4"><img class="profile" src={{user.gravatar}} width="100" height="100" /></div>
  </div>
  <div class="form-group">
    <div class="offset-sm-3 col-md-7 pl-2"><button class="btn btn btn-primary" type="submit"><i class="fas fa-pencil-alt fa-sm"></i>Update Profile</button></div>
  </div>
</form>
<div class="pb-2 mt-2 mb-4 border-bottom">
  <h3>Change Password</h3>
</div>
<form action="/account/password" method="POST"><input type="hidden" name="_csrf" value={{_csrf}} />
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="password">New Password</label>
    <div class="col-md-7"><input class="form-control" type="password" name="password" id="password" autocomplete="new-password" /></div>
  </div>
  <div class="form-group row"><label class="col-md-3 col-form-label font-weight-bold text-right" for="confirmPassword">Confirm Password</label>
    <div class="col-md-7"><input class="form-control" type="password" name="confirmPassword" id="confirmPassword" autocomplete="new-password" /></div>
  </div>
  <div class="form-group">
    <div class="offset-sm-3 col-md-7 pl-2"><button class="btn btn-primary" type="submit"><i class="fas fa-lock fa-sm"></i>Change Password</button></div>
  </div>
</form>
<div class="pb-2 mt-2 mb-4 border-bottom">
  <h3>Delete Account</h3>
</div>
<form action="/account/delete" method="POST" onsubmit="return confirm('Are you sure you want to delete your account?');">
  <div class="form-group">
    <p class="offset-sm-3 col-md-7 pl-2">You can delete your account, but keep in mind this action is irreversible.</p><input type="hidden" name="_csrf" value={{_csrf}} />
    <div class="offset-sm-3 col-md-7 pl-2"><button class="btn btn-danger" type="submit"><i class="fas fa-trash-alt fa-sm"></i>Delete my account</button></div>
  </div>
</form>
