{{!< LAYOUT}}

{{#if user}}
  {{> travelsHeader}}
  <hr />
  <div class="accordion" id="travelsAccordion">
    {{#each docs}}
      {{{byYearAccordion this}}}
    {{/each}}
  </div>

{{else}}
  <h2>Login or Sign up
    <!-- <p class="lead">Neki Neki</p> -->
  </h2>
  <div class="row">
    <div class="col-xs-6 p-3 mx-auto">
      <div class="">
        <a class="btn btn-dark btn-lg" href="/login">
          Login
        </a>
      </div>
    </div>
    <div class="col-xs-6 p-3 mx-auto">
      <div class="">
        <a class="btn btn-outline-dark btn-lg" href="/signup">
          Sign up
        </a>
      </div>
    </div>
  </div>

{{/if}}

<script type="text/javascript">

function toggleTravelButtonText(event) {

  let button;

  if (event.target.localName != "button") {
    button = event.target.parentElement;
    // console.log('toggle', event, event.target.localName);
    button.click();
    return;
  } else {
    button = event.target;
  }

  let classes = button.getAttribute("class");
  if (button.getAttribute("data-text-swap") == button.innerText) {
    button.innerHTML = button.getAttribute("data-text-original");
    let badge = document.createElement("SPAN");
    let badgeTextNode = document.createTextNode(button.getAttribute("data-text-badge"));
    if (classes.indexOf("badge-light") > 0) {
      badge.setAttribute("class", "badge badge-dark mx-1");
    } else if (classes.indexOf("badge-secondary") > 0) {
      badge.setAttribute("class", "badge badge-warning mx-1");
    } else if (classes.indexOf("badge-dark") > 0) {
      badge.setAttribute("class", "badge badge-light mx-1");
    } else {
      badge.setAttribute("class", "badge badge-danger mx-1");
    }
    badge.appendChild(badgeTextNode);
    button.appendChild(badge);
    let sr = document.createElement("SPAN");
    let srTextNode = document.createTextNode(button.getAttribute("data-text-badge-sr"));
    sr.setAttribute("class", "sr-only");
    sr.appendChild(srTextNode);
    button.appendChild(sr);
  } else {

    button.innerHTML = button.getAttribute("data-text-swap");
  }
}

  $(document).ready(() => {

  });

</script>
