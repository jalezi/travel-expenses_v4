{{!< layout}}

{{debug expenseTypes}}

<div class="pb-2 mt-2 mb-4 border-bottom">
  <h3> {{{travel.description}}}
    <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#updateTravelForm" aria-expanded="false" aria-controls="updateTravelForm">
      <i class="fas fa-pen"></i>Update
    </button>
  </h3>
</div>

{{> travelUpdateForm }}

<div class="pb-2 mt-2 mb-4">
  <h6>
    <button class="btn btn-success" type="button" data-toggle="collapse" data-target="#newExpenseForm" aria-expanded="false" aria-controls="newExpenseForm">
      <i class="fas fa-plus"></i>New expense
    </button>
  </h6>

</div>

<div class="collapse pb-2 mt-2 mb-4 border-bottom" id="newExpenseForm">
  <form class="" action="index.html" method="post">
    <input type="hidden" name="_csrf" value={{_csrf}} />
    <div class="form-group row">
      <div class="col-md-3">
        <label class="sr-only" for="expenseType">Type</label>
        <select class="form-control" id="expenseType" name="expenseType" autofocus="autofocus" autocomplete="expenseType" required="required">
          {{#each expenseTypes}}
            <option value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
      <div class="col-md-6">
        <label class="sr-only" for="expenseDescription">Description</label>
        <input class="form-control" id="expenseDescription" type="expenseDescription" value="" name="expenseDescription" placeholder="Description" autofocus="autofocus" autocomplete="expenseDescription" required="required" />
      </div>
      <div class="col-md-3">
        <label class="sr-only" for="invoiceDate">Inovice date</label>
        <input class="form-control" id="invoiceDate" type="date" value={{formatDate travel.dateFrom}} name="invoiceDate" autocomplete="invoiceDate" required="required" />
      </div>
    </div>

    <div class="form-group row">
      <div class="col-md-3">
        <label class="sr-only" for="invoiceCurrency">Invoice currency</label>
        <input class="form-control amount-options text-to-upper" type="text" list="currencies" id="invoiceCurrency" placeholder="Currency" name="invoiceCurrency" autofocus="autofocus" autocomplete="invoiceCurrency" required="required" minLength="3" maxlength="3">
          <datalist class="currencies" value="" id="currencies">
            <option class="currenncy">USD</option>
            <option class="currenncy">EUR</option>
            <option class="currenncy">RSD</option>
            <option class="currenncy">HRK</option>
            <option class="currenncy">BAM</option>
          </datalist>
      </div>
      <div class="col-md-4">
        <label class="sr-only" for="amount">Amount/Mileage</label>
        <input class="form-control text-right" type="text" id="amount" name="amount" placeholder="0.00" autofocus="autofocus" autocomplete="amount" required="required">
      </div>
      <div class="col-md-5 input-group">
        <label class="sr-only" for="amountConverted">amountConverted</label>
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">{{user.homeCurrency}}</span>
        </div>
        <input class="form-control text-right" type="text" id="amountConverted" name="amountConverted" value="0.00" placeholder="0.00" autofocus="autofocus" autocomplete="amountConverted" required="required" readonly>
      </div>
    </div>
    <div class="form-group row ">
      <div class="col-md-7">
        <button class="btn btn-success mx-1 col-md-4 mb-1" type="button"><i class="fas fa-plus"></i>Add</button>
        <button class="btn btn-outline-primary mx-1 col-md-4 mb-1" type="button"><i class="fas fa-ban"></i>Cancel</button>
      </div>
    </div>
  </form>
</div>
